Fig. 7. Structural Alignment. In the first denoising step, we extract selfattention queries from both source and target images. We then define two cost matrices: ğ¶ ğ‘†ğ´ , which promotes structural alignment between source and target, and ğ¶ ğ‘‡ğ¶ , which preserves target structure. By linearly combining these matrices, we can control the strength of alignment. The resulting cost matrix is then used in the Hungarian matching algorithm to permute the target queries, aligning them with the sourceâ€™s structure.